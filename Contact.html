<!Doctype HTML>
<html lang="en">
<head>
<meta charset="utf-8">
<title>ContactPage</title>
<link href="contact.css" rel="stylesheet" type="text/css">
<script src="script.js"></script>
</head>
<body id="bgcolor"></body>
<div id="clock"></div>

<div id="toastContainer"></div>

<button class="toast-trigger" onclick="toast.info('Thank you for showing support across my website!')">
  Support Message
</button>


<script>
/* Toasty */
const toast = (() => {
  // Create container if it doesn't exist
  let container = document.getElementById('toastContainer');
  if (!container) {
    container = document.createElement('div');
    container.id = 'toastContainer';
    document.body.appendChild(container);
  }

  function show(message, type = 'info', duration = 4000) {
    const toastEl = document.createElement('div');
    toastEl.className = `toast ${type}`;
    toastEl.textContent = message;

    container.appendChild(toastEl);

    // Auto-remove after duration
    setTimeout(() => {
      toastEl.classList.add('fadeOut');
      toastEl.addEventListener('animationend', () => toastEl.remove());
    }, duration);
  }

  return {
    success: (msg, duration) => show(msg, 'success', duration),
    error:   (msg, duration) => show(msg, 'error', duration),
    warning: (msg, duration) => show(msg, 'warning', duration),
    info:    (msg, duration) => show(msg, 'info', duration),
    custom:  (msg, type, duration) => show(msg, type, duration)
  };
})();
</script>

<div id="google_translate_element" class="google-toggle"></div>
<button id="themeToggle" class="theme-btn">Background Changer</button>
<script>
// Background Colour Changer (Advanced Version) //
document.addEventListener("DOMContentLoaded", () => {
  const themeToggle = document.getElementById("themeToggle");
  const body = document.body;

  const themes = [
    "blue",
    "pink",
    "purple",
    "gold",
    "silver",
    "noir",
    "red",
    "peach",
    "midnight"
  ];

  // Load saved theme
  let currentTheme = localStorage.getItem("theme") || "blue";

  body.classList.add(`${currentTheme}-theme`);

  themeToggle.addEventListener("click", () => {
    // Remove current theme
    body.classList.remove(`${currentTheme}-theme`);

    // Get next theme index
    let index = themes.indexOf(currentTheme);
    index = (index + 1) % themes.length;

    // Apply next theme
    currentTheme = themes[index];
    body.classList.add(`${currentTheme}-theme`);

    // Save
    localStorage.setItem("theme", currentTheme);
  });
});
</script>


<button id="toggleHighContrast" class="contrast-toggle">Contrast Boost</button>
<script>
// Contrast Toggle //
document.getElementById("toggleHighContrast").addEventListener("click", () => {
    document.body.classList.toggle("high-contrast-mode");
});
</script>


<div id="cursor-glow"></div>
<canvas id="particle-canvas"></canvas>
<script>
// Curser Glow //
const canvas = document.getElementById("particle-canvas");
const ctx = canvas.getContext("2d");
const cursorGlow = document.getElementById("cursor-glow");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let particles = [];
let cursorX = 0;
let cursorY = 0;

class Particle {
    constructor(x, y) {
        this.x = x;
        this.y = y;
        this.size = Math.random() * 5 + 2;
        this.speedX = (Math.random() - 0.5) * 2;
        this.speedY = (Math.random() - 0.5) * 2;
        this.opacity = 1;
    }

    update() {
        this.x += this.speedX;
        this.y += this.speedY;
        this.opacity -= 0.02;
    }

    draw() {
        ctx.fillStyle = `rgba(255,255,255,${this.opacity})`;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fill();
    }
}

function handleParticles() {
    for (let i = particles.length - 1; i >= 0; i--) {
        const p = particles[i];
        p.update();
        p.draw();
        if (p.opacity <= 0) particles.splice(i, 1);
    }
}

function updateCursor() {
    cursorGlow.style.left = `${cursorX}px`;
    cursorGlow.style.top = `${cursorY}px`;
}

function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    updateCursor();
    handleParticles();

    requestAnimationFrame(animate);
}

animate();

window.addEventListener("mousemove", e => {
    cursorX = e.clientX;
    cursorY = e.clientY;

    cursorGlow.style.transform = "translate(-50%, -50%) scale(1.18)";
    setTimeout(() => {
        cursorGlow.style.transform = "translate(-50%, -50%) scale(1)";
    }, 80);

    for (let i = 0; i < 4; i++) {
        particles.push(new Particle(e.x, e.y));
    }
});

window.addEventListener("touchmove", e => {
    const t = e.touches[0];
    cursorX = t.clientX;
    cursorY = t.clientY;
    for (let i = 0; i < 4; i++) {
        particles.push(new Particle(t.clientX, t.clientY));
    }
});

window.addEventListener("resize", () => {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
});
</script>

<div id="rating-popup" class="rating-popup">
  <h3>How do you like the website?</h3>
  
  <div class="stars">
    <span data-star="1">â˜…</span>
    <span data-star="2">â˜…</span>
    <span data-star="3">â˜…</span>
    <span data-star="4">â˜…</span>
    <span data-star="5">â˜…</span>
  </div>

  <textarea id="feedback" placeholder="Tell us more (optional)..."></textarea>

  <button id="submit-rating">Submit</button>
  <p id="thank-you" class="hidden">Thanks for your feedback! ðŸ˜Š</p>
</div>

<script>
window.addEventListener("DOMContentLoaded", () => {

  const stars = document.querySelectorAll(".stars span");
  const submitBtn = document.getElementById("submit-rating");
  const thankYou = document.getElementById("thank-you");
  const popup = document.getElementById("rating-popup");
  const feedback = document.getElementById("feedback");

  let selectedRating = 0;

  // --- PREVENT REPEATED SHOWING ---
  const savedRating = localStorage.getItem("userRating");
  if (savedRating) {
    popup.style.display = "none";   // Hide permanently
    return;  // STOP RUNNING SCRIPT
  }

  // --- Star selection ---
  stars.forEach(star => {
    star.addEventListener("click", () => {
      selectedRating = parseInt(star.dataset.star);

      stars.forEach(s => s.classList.remove("active"));

      for (let i = 0; i < selectedRating; i++) {
        stars[i].classList.add("active");
      }
    });
  });

  // --- Submit Rating ---
  submitBtn.addEventListener("click", () => {
    if (selectedRating === 0) {
      alert("Please select a rating first!");
      return;
    }

    // Save rating FOREVER
    localStorage.setItem("userRating", selectedRating);

    // Show thank you
    submitBtn.style.display = "none";
    feedback.style.display = "none";
    document.querySelector(".stars").style.display = "none";
    thankYou.classList.remove("hidden");

    // Auto-hide popup after 2 sec
    setTimeout(() => {
      popup.style.display = "none";
    }, 2000);
  });

});
</script>



<script>
document.addEventListener('DOMContentLoaded', () => {
  const input = document.getElementById('fileInput');
  const previewWrap = document.getElementById('previewWrap');
  const MAX_SIZE = 5 * 1024 * 1024; // 5 MB

  if (!input || !previewWrap) return;

  input.addEventListener('change', (e) => {
    previewWrap.innerHTML = ''; // clear old preview
    const files = Array.from(e.target.files || []);

    if (files.length === 0) return;

    // Only take the first file for Option A (single preview)
    const file = files[0];

    if (!file.type.startsWith('image/')) {
      notify('Please choose an image file (PNG, JPG, GIF, WebP).', 'error');
      input.value = '';
      return;
    }

    if (file.size > MAX_SIZE) {
      notify('File too large. Maximum allowed is 5 MB.', 'error');
      input.value = '';
      return;
    }

    const reader = new FileReader();
    reader.onload = (ev) => {
      const div = document.createElement('div');
      div.className = 'preview-item';

      const img = document.createElement('img');
      img.src = ev.target.result;
      img.alt = file.name;

      const removeBtn = document.createElement('button');
      removeBtn.type = 'button';
      removeBtn.className = 'remove-btn';
      removeBtn.title = 'Remove image';
      removeBtn.innerHTML = '&times;';

      const meta = document.createElement('div');
      meta.className = 'file-meta';
      meta.textContent = `${file.name} Â· ${Math.round(file.size / 1024)} KB`;

      removeBtn.addEventListener('click', () => {
        previewWrap.removeChild(div);
        input.value = ''; // reset input so same file can be re-picked
        notify('Image removed.', 'info');
      });

      div.appendChild(img);
      div.appendChild(removeBtn);
      div.appendChild(meta);

      previewWrap.appendChild(div);
    };

    reader.readAsDataURL(file);
  });

  // Notify helper: uses showToast if available, otherwise alert
  function notify(message, type = 'info') {
    if (typeof showToast === 'function') {
      // showToast(message, type) is used earlier in your page; call if defined.
      try { showToast(message, type); } catch (e) { console.warn(e); alert(message); }
    } else {
      alert(message);
    }
  }
});
</script>


<div id="chat-button">ðŸ’¬</div>

<div id="chat-widget">
  <div class="chat-header">
    <span>Chat Support</span>
    <button id="chat-close">Ã—</button>
  </div>

  <div class="chat-body" id="chat-body">
    <div class="bot-message">Hi! How can I help you today?</div>
  </div>

  <div class="chat-input-area">
    <input type="text" id="chat-input" placeholder="Type a message...">
    <button id="chat-send">âž¤</button>
  </div>
</div>


<script>
// Chat Widget
const chatButton = document.getElementById("chat-button");
const chatWidget = document.getElementById("chat-widget");
const chatClose = document.getElementById("chat-close");
const chatBody = document.getElementById("chat-body");
const chatInput = document.getElementById("chat-input");
const chatSend = document.getElementById("chat-send");

// Open chat
chatButton.onclick = () => {
  chatWidget.style.display = "flex";
  chatButton.style.display = "none";
};

// Close chat
chatClose.onclick = () => {
  chatWidget.style.display = "none";
  chatButton.style.display = "flex";
};

// Add message to chat
function addMessage(content, type) {
  const msg = document.createElement("div");
  msg.className = type === "user" ? "user-message" : "bot-message";
  msg.textContent = content;
  chatBody.appendChild(msg);
  chatBody.scrollTop = chatBody.scrollHeight;
}

// Bot Replies
const replies = [
  "Thanks for reaching out! Iâ€™m afraid I canâ€™t help with that here, but the contact form can.",
  "I appreciate your message! Iâ€™m not able to assist with this, but the contact form will point you in the right direction.",
  "Sorryâ€”Iâ€™m not able to process that request. Please try using the contact form instead.",
  "Thanks for asking! Iâ€™m limited in what I can do, but the contact form is the best place for support.",
  "Iâ€™m unable to complete that action, but someone on the other end of the contact form will be happy to help.",
  "I did my best to understand, but I canâ€™t handle this one. The contact form should get you the support you need!",
  "Iâ€™m here to guide you, but this request will need to go through the contact form.",
  "Thatâ€™s a bit outside what Iâ€™m able to do, but the contact form can assist you properly.",
  "I donâ€™t have the tools to help with that, but you can get support quickly through the contact form.",
  "Thanks for your question! Please reach out using the contact form so someone can assist you directly."
];

// Sending Messages
chatSend.onclick = () => {
  const text = chatInput.value.trim();
  if (!text) return;

  addMessage(text, "user");
  chatInput.value = "";

  setTimeout(() => {
    const reply = replies[Math.floor(Math.random() * replies.length)];
    addMessage(reply, "bot");
  }, 600);
};

// Pressing enter = Sends a direct message
chatInput.addEventListener("keypress", (e) => {
  if (e.key === "Enter") chatSend.click();
});
</script>


	

<div id="cookie-banner">
  <div class="cookie-text">
    This site uses cookies to improve your experience. By using this site, you agree to our cookie policy.
  </div>
  <button id="cookie-accept">Got it</button>
</div>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<script>
function girlyButtonConfetti(x, y) {
  const origin = {
    x: x / window.innerWidth,
    y: y / window.innerHeight
  };

  // Heart Shapes
  confetti({
    particleCount: 30,
    spread: 55,
    origin: origin,
    shapes: ["heart"],
    colors: ["#ff66b3", "#ff99cc", "#cc66ff", "#ffb3e6"],
    scalar: 1.4
  });

  // Gold Confetti
  confetti({
    particleCount: 25,
    spread: 60,
    origin: origin,
    colors: ["#ffd700", "#fff0b3"],
    scalar: 0.9
  });

  // Multi-color confetti
  confetti({
    particleCount: 40,
    spread: 70,
    origin: origin,
    colors: ["#ff66b3", "#b366ff", "#ff99cc", "#ffccf2"],
  });
}
</script>
	
<script>
document.getElementById("cookie-accept").addEventListener("click", (e) => {
  girlyButtonConfetti(e.clientX, e.clientY);
});
</script>



<script>
// Check if user already accepted cookies
if (!localStorage.getItem("cookiesAccepted")) {
  document.getElementById("cookie-banner").style.display = "flex";
}

// When user clicks "Got it"
document.getElementById("cookie-accept").onclick = () => {
  localStorage.setItem("cookiesAccepted", "true");
  document.getElementById("cookie-banner").style.display = "none";
};
</script>




<div id="visitCounter">ðŸ‘€ Total Visits: <span id="visitCount">0</span></div>


<script>
// Visit Counter â€“ stores total visits permanently in browser
let totalVisits = localStorage.getItem("totalVisits");

// If no record exists, create one
if (!totalVisits) {
  totalVisits = 0;
}

// Convert to number
totalVisits = parseInt(totalVisits);

// Increase by 1 every time the page loads
totalVisits++;

// Save updated value
localStorage.setItem("totalVisits", totalVisits);

// Display it
document.getElementById("visitCount").innerText = totalVisits;
</script>



<script>
    document.addEventListener("DOMContentLoaded", () => {
  alert("Welcome to the Contact page!");
});
</script>


<script>
function updateClock() {
  const now = new Date();
  const hours = String(now.getHours()).padStart(2, "0");
  const minutes = String(now.getMinutes()).padStart(2, "0");
  const seconds = String(now.getSeconds()).padStart(2, "0");

  document.getElementById("clock").textContent = `${hours}:${minutes}:${seconds}`;
}

setInterval(updateClock, 1000);
updateClock();
</script>
  <div id="Banner">
    <h1>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Creative Coding - Aimman Jawad</h1>
    <h2>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ~ No matter how hard it gets, never give up; a lioness never quits, she conquers.</h2> 
  </div>

  <nav class="navbar">
    <ul>
      <li><a href="index.html">
        <img src="https://aimmanjawad.github.io/ajawad/Home.png" alt="Home Icon"> Home
      </a></li>
      <li><a href="Skills.html">
        <img src="https://aimmanjawad.github.io/ajawad/Skills.png" alt="Skills Icon"> Skills
      </a></li>
      <li><a href="Achievements.html">
        <img src="https://aimmanjawad.github.io/ajawad/Achievements.png" alt="Achievements Icon"> Achievements
      </a></li>
      <li><a href="Experiences.html">
        <img src="https://aimmanjawad.github.io/ajawad/Experiences.png" alt="Experiences Icon"> Experiences
      </a></li>
      <li><a href="Personal Life.html">
        <img src="https://aimmanjawad.github.io/ajawad/Personal Life.png" alt="Personal Life Icon"> Personal Life
      </a></li>
      <li><a href="Contact.html" class="active">
        <img src="https://aimmanjawad.github.io/ajawad/Contact.png" alt="Contact Icon"> Contact
      </a></li>
    </ul>
  </nav>

<script>
// Interactive Navigation With Hover Sound Effects

// Preload the sound
const hoverSound = new Audio("https://aimmanjawad.github.io/ajawad/cutepop.mp3"); 
hoverSound.volume = 0.4; // optional: adjust volume

// Select all navbar links
const navLinks = document.querySelectorAll(".navbar a");

navLinks.forEach(link => {
    link.addEventListener("mouseenter", () => {
        // Restart sound from the beginning to prevent overlap
        hoverSound.currentTime = 0;
        hoverSound.play();
    });
});
// -------------------------------------------------------------- END -------------------------------------------------------------- //
</script>	

<div class="font-resizer">
  <button id="DecreaseFont">A-</button>
  <button id="DefaultFont">A</button>
  <button id="IncreaseFont">A+</button>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  let fontSize = parseInt(localStorage.getItem("fontSize"));

  function updateFont() {
    const textElements = document.querySelectorAll("body *:not(script):not(style)");
    textElements.forEach(el => {
      el.style.fontSize = fontSize + "px";
    });
    localStorage.setItem("fontSize", fontSize);
  }


  if (fontSize) {
    updateFont();
  }

  document.getElementById("IncreaseFont").onclick = () => {
    fontSize = fontSize ? fontSize + 2 : 18;
    updateFont();
  };

  document.getElementById("DecreaseFont").onclick = () => {
    fontSize = fontSize ? fontSize - 2 : 14;
    updateFont();
  };

  document.getElementById("DefaultFont").onclick = () => {
    localStorage.removeItem("fontSize"); // Reset
    fontSize = null;


    const textElements = document.querySelectorAll("body *");
    textElements.forEach(el => el.style.fontSize = "");

  };
});
</script>


  <section class="contact-wrapper">

  <div class="contact-info">
    <p class="intro-text">
      I hope you had a wonderful experience on my website. For any further enquiries, please complete the contact form.
    </p>

    <div id="map" class="map"></div>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <script>
      var map = L.map('map').setView([52.4623, -1.8867], 15);

      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 19,
        attribution: 'Â© OpenStreetMap contributors'
      }).addTo(map);

      L.marker([52.4623, -1.8867]).addTo(map)
        .bindPopup("<b>Joseph Chamberlain College</b><br>1 Belgrave Rd, Birmingham B12 9FF")
        .openPopup();
    </script>

    <p><img src="https://aimmanjawad.github.io/ajawad/Email.png" alt="Email icon"> <strong>Email:</strong> AimmanJ26@gmail.com</p>
    <p><img src="https://aimmanjawad.github.io/ajawad/Telephone.png" alt="Telephone icon"> <strong>Phone:</strong> 07456785655</p>
    <p><img src="https://aimmanjawad.github.io/ajawad/Address.png" alt="Address icon"> <strong>Address:</strong> Joseph Chamberlain College, 1 Belgrave Rd, Balsall Heath, Birmingham, B12 9FF</p>
  </div>

<form id="contact-form" class="contact-card">

    <h3>Contact Form</h3>

    <input type="text" name="name" placeholder="Name*" required>

    <input type="email" name="email" placeholder="Email Address*" required>

    <textarea name="message" placeholder="Message* please enter your message in here" required></textarea>

    <div class="send-row">
    <div class="left-side">
        <input type="checkbox" id="sendCopy">
        <label for="sendCopy" class="copy-email">
            Send a copy to my email address
        </label>
    </div>

    <button type="submit" class="send-btn">Send</button>
</div>

</form>

</section>



  <footer>
    <div class="footer-right">
      <a href="https://www.facebook.com/JCSFCollege/" target="_blank"><img src="https://aimmanjawad.github.io/ajawad/Facebook.png" alt="Facebook Icon"></a>
      <a href="https://www.linkedin.com/company/joseph-chamberlain-sixth-form-college/" target="_blank"><img src="https://aimmanjawad.github.io/ajawad/LinkedIn.png" alt="LinkedIn Icon"></a>
      <a href="https://x.com/jcsfcollege" target="_blank"><img src="https://aimmanjawad.github.io/ajawad/X Twitter.png" alt="X (Twitter) Icon"></a>
      <a href="https://www.youtube.com/@josephchamberlain4139" target="_blank"><img src="https://aimmanjawad.github.io/ajawad/YouTube.png" alt="YouTube Icon"></a>
      <a href="https://www.instagram.com/jcsfcollege/?hl=en" target="_blank"><img src="https://aimmanjawad.github.io/ajawad/Instagram.png" alt="Instagram Icon"></a>
    </div>
  </footer>
<script src="script.js"></script>
<script>
function googleTranslateElementInit() {
  new google.translate.TranslateElement(
    { pageLanguage: 'en' },
    'google_translate_element'
  );
}
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script>
// Video Popup
(function() {
  // Grab the first video inside .about-container
  const originalVideo = document.querySelector('.about-container video');

  // If no video found, do nothing
  if (!originalVideo) return;

  const backdrop = document.getElementById('videoModalBackdrop');
  const modalContent = document.getElementById('videoModalContent');
  const closeBtn = document.getElementById('videoModalClose');

  // Build a cloned video element (when opening) to avoid interfering with the page video
  function createModalVideo() {
    const v = document.createElement('video');

    // Copy attributes you want (src, poster). Not copying loop since modal should not necessarily loop.
    if (originalVideo.getAttribute('src')) v.setAttribute('src', originalVideo.getAttribute('src'));
    if (originalVideo.getAttribute('poster')) v.setAttribute('poster', originalVideo.getAttribute('poster'));

    v.setAttribute('controls', '');
    v.setAttribute('playsinline', ''); // mobile inline control
    v.setAttribute('preload', 'metadata');
    v.style.maxHeight = '80vh';
    v.style.width = '100%';
    v.style.height = 'auto';

    // Auto-play: try to play, catch promise rejections silently (autoplay policy).
    v.autoplay = true;
    v.muted = false; // you can set true to ensure autoplay on some browsers, but user may prefer sound
    return v;
  }

  // Open modal and start playback
  function openModal() {
    // If already open, ignore
    if (backdrop.classList.contains('active')) return;

    // Pause the original on-page video (so only modal plays)
    try { originalVideo.pause(); } catch(e){}

    // Inject cloned video into modal content
    const modalVideo = createModalVideo();
    modalContent.innerHTML = ''; // clear any previous
    modalContent.appendChild(modalVideo);

    // Wait a tick then attempt to play
    setTimeout(() => {
      const playPromise = modalVideo.play();
      if (playPromise && typeof playPromise.then === 'function') {
        playPromise.catch(err => {
          // autoplay may be blocked; optionally show controls and let user press play
          console.warn('Autoplay blocked or failed:', err);
        });
      }
    }, 40);

    // Show backdrop
    backdrop.classList.add('active');
    backdrop.setAttribute('aria-hidden', 'false');

    // Trap focus lightly (send focus to close button)
    closeBtn.focus();

    // Store pointer to the cloned video for later pause
    backdrop._modalVideo = modalVideo;
  }

  // Close modal and cleanup
  function closeModal() {
    if (!backdrop.classList.contains('active')) return;
    const modalVideo = backdrop._modalVideo;
    if (modalVideo) {
      try {
        modalVideo.pause();
        // remove src to free memory
        modalVideo.removeAttribute('src');
        modalVideo.load();
      } catch (e) {}
    }

    // Hide backdrop and cleanup DOM
    backdrop.classList.remove('active');
    backdrop.setAttribute('aria-hidden', 'true');
    modalContent.innerHTML = '';

    // Return focus to the on-page video for accessibility
    try { originalVideo.focus(); } catch(e){}
  }

  // Toggle by clicking the original video element
  originalVideo.style.cursor = 'pointer';
  originalVideo.addEventListener('click', openModal);

  // Close button / overlay click handlers
  closeBtn.addEventListener('click', closeModal);

  // If user clicks the backdrop (but not inside modal content), close
  backdrop.addEventListener('click', (e) => {
    if (e.target === backdrop) closeModal();
  });

  // Keyboard: ESC to close
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' || e.key === 'Esc') {
      if (backdrop.classList.contains('active')) {
        closeModal();
      }
    }
  });

  // If the user navigates away from the page or unloads, pause any playing modal video
  window.addEventListener('pagehide', () => {
    const mv = backdrop._modalVideo;
    if (mv && !mv.paused) try { mv.pause(); } catch(e){}
  });

})();
</script>

<script>
// Keyboard Navigation
document.addEventListener("keydown", (event) => {
    const key = event.key.toLowerCase();

    // Ignore typing in text fields
    if (["input", "textarea"].includes(event.target.tagName.toLowerCase())) return;

    // Quick Page Navigation
    switch (key) {
        case "h":
            window.location.href = "index.html";
            break;
        case "s":
            window.location.href = "Skills.html";
            break;
        case "a":
            window.location.href = "Achievements.html";
            break;
        case "e":
            window.location.href = "Experiences.html";
            break;
        case "p":
            window.location.href = "Personal Life.html";
            break;
        case "c":
            window.location.href = "Contact.html";
            break;
    }

    // Smooth Scroll Enhancements
    if (key === "arrowdown") {
        window.scrollBy({ top: 80, behavior: "smooth" });
    }

    if (key === "arrowup") {
        window.scrollBy({ top: -80, behavior: "smooth" });
    }

    if (key === " ") {
        if (event.shiftKey) {
            // Shift + Space = jump UP
            window.scrollBy({ top: -500, behavior: "smooth" });
        } else {
            // Space = jump DOWN
            window.scrollBy({ top: 500, behavior: "smooth" });
        }
        event.preventDefault(); // stop page from jumping uncontrollably
    }

    if (key === "escape") {
        window.scrollTo({ top: 0, behavior: "smooth" });
    }
});
	</script>

<style>
.sr-only {
  position: absolute !important;
  width: 1px; height: 1px;
  padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0 0 0 0);
  white-space: nowrap; border: 0;
}
</style>

<script>
/* Offline Detection */
(function () {
  let alreadyAsked = false;

  function handleOffline() {
    if (alreadyAsked) return;
    alreadyAsked = true;

    confirm("Are you offline?");
  }

  function handleOnline() {
    alreadyAsked = false;
    console.log("Your back online!");
  }

  if (!navigator.onLine) {
    handleOffline();
  }

  window.addEventListener("offline", handleOffline);
  window.addEventListener("online", handleOnline);
})();	
</script>

<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

<script>
(function () {
  emailjs.init("FuQClBhdNkUbBGRUd"); // Public Key
})();

document.getElementById("contact-form").addEventListener("submit", function (e) {
  e.preventDefault();

  const name = this.name.value;
  const email = this.email.value;
  const message = this.message.value;
  const sendCopy = document.getElementById("sendCopy").checked;

  // SEND TO OWNER
  emailjs.send("service_xnn9thf", "template_foj2bya", {
    name: name,
    email: email,
    message: message,
    to_email: "aimmanjawad11@gmail.com"
  }).then(
    function () {
      console.log("Owner email sent");
    },
    function (error) {
      console.error("Owner email failed:", error);
    }
  );

  // SEND COPY TO USER
  if (sendCopy) {
    emailjs.send("service_xnn9thf", "template_zw7apxo", {
      name: name,
      email: email,
      message: message,
      to_email: email
    }).then(
      function () {
        console.log("User copy sent");
      },
      function (error) {
        console.error("User email failed:", error);
      }
    );
  }

  alert("Message sent successfully!");
  this.reset();
});
</script>

</html>


